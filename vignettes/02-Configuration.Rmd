---
title: "OpenML"
author: "The OpenML R Team"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{OpenML}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---
```{r init, include=FALSE}
# library("knitr")
# opts_chunk$set(cache = TRUE)
library("OpenML")
setOMLConfig(apikey = "c1994bdb7ecb3c6f3c8f3b35f4b47f1f")
```

# Configuration {#config}
## Registration
The first step of working with OpenML should be to register yourself at the [OpenML website](http://www.openml.org).
Most of the package's functions require an API authentication key, which is only accessible with a (free) account.
To access the API key

* go to the [OpenML website](http://www.openml.org) and log into your account
* then go to <http://www.openml.org/u#!api>.

For demonstration purposes, we have created a public, read-only API key (`"c1994bdb7ecb3c6f3c8f3b35f4b47f1f"`) which will be used in the following to make the examples executable.

## Permanently setting configuration {#permanentconfig}
After registration you should create a configuration file.
The `config` file may contain the following information:

* `server`:
    * default: `http://api_new.openml.org/v1`
* `cachedir`:
    * directory where current cache contents are stored
    * the default cache directory can be obtained by the R command `file.path(tempdir(), "cache")`.
* `verbosity`:
    * `0`: normal output
    * `1`: info output (default)
    * `2`: debug output
* `arff.reader`:
    * `RWeka`: this is the standard Java parser used in Weka
    * `farff`: the [farff package](http://www.github.com/mlr-org/farff) lives below the mlr-org and is a newer, faster parser without any Java requirements
* `apikey`:
    * required to access the server

The configuration file is not mandatory.
Yet, permanently setting your API key via a `config` file is recommended, as this key is required to access the OpenML server.
Note however, that basically everybody who has access to your computer can read the configuration file and see your API key.
With your API key other users have full access to your account via the API, so please handle the API key with care.

The configuration file and some related things are also explained in the [OpenML Wiki](https://github.com/openml/OpenML/wiki/Client-API).

### Creating the configuration file in R
You can easily create a configuration file using either `setOMLConfig` or `saveOMLConfig`. The difference between those two commands is that `setOMLConfig` sets your configuration temporarily for the current R session, whereas `saveOMLConfig` saves the configuration permanently.
To create a (permanent) configuration file using default values and setting your API key, use
```{r, eval = FALSE}
library(OpenML)
saveOMLConfig(apikey = "c1994bdb7ecb3c6f3c8f3b35f4b47f1f")
```
where `"c1994bdb7ecb3c6f3c8f3b35f4b47f1f"` should be replaced with your personal API key.

### Manually creating the configuration file
It is also possible to manually create a file `~/.openml/config` in the home directory (one can use the R command `path.expand("~/.openml/config")` to get the full path to the configuration file on the operating system).
The `config` file consists of `key = value` pairs. An exemplary minimal `config` file might look as follows:
```{r eval = FALSE}
apikey=c1994bdb7ecb3c6f3c8f3b35f4b47f1f
```
Note that values are not quoted.

If one manually modifies the `config` file, one needs to reload the modified `config` file to the current R session using `loadOMLConfig()`.
To query the current configuration, one can use
```{r}
library(OpenML)
getOMLConfig()
```

As shown above, the configuration file lists the five items (`server`, `cachedir`, `verbosity`, `arff.reader` and `apikey`) from [above](#permanentconfig).

Once you have done these steps, you are **ready to go**!
