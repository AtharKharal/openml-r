---
title: "OpenML"
author: "The OpenML R Team"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{OpenML}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---
```{r init, include=FALSE}
# library("knitr")
# opts_chunk$set(cache = TRUE)
library("OpenML")
setOMLConfig(apikey = "c1994bdb7ecb3c6f3c8f3b35f4b47f1f")
```

# Introduction {#intro}
The R package OpenML is an interface to make interactions with the [OpenML](http://openml.org/) server as comfortable as possible.
Users can download and upload files, run their implementations on specific tasks, get predictions in the correct form, and run SQL queries, etc. directly via R commands.
In this tutorial, we will show you the most important functions of this package and give you examples on standard workflows.

For general information on what OpenML is, please have a look at the [README file](https://github.com/openml/OpenML/blob/master/README.md) or visit the [official OpenML website](http://openml.org/).

Before making practical use of the package, in most cases it is desirable to [setup a configuration file](#config) to simplify further steps.
Afterwards, there are different basic stages when using this package or OpenML, respectively:

* [Listing](#listing)
    * function names begin with `listOML`
    * result is always a `data.frame`
    * available for `DataSets`, `Tasks`, `Flows`, `Runs`, `RunEvaluations`, `EvaluationMeasures` and `TaskTypes`
* [Downloading](#download)
    * function names begin with `getOML`
    * result is an object of a specific OpenML class
    * available for `DataSets`, `Tasks`, `Runs`, `Predictions` and `Flows`
* [Running models on tasks](#running)
    * function `runTaskMlr`
    * input: `OMLTask` and [`Learner`](https://mlr-org.github.io/mlr-tutorial/release/html/learner/index.html)
    * output: `OMLMlrRun`, `OMLRun`
* [Uploading](#upload)
    * function `uploadOMLRun`

## Basic example {#basicexample}

Below you can find an example that downloads a task from the server, presents some information about a task and uploads a new task to the server. 

*Note that before working with OpenML you must* **get a key**. The process how to obtain a key is shown in the [configuration section](#config).
    
```{r eval=FALSE}
library("OpenML")
## temporarily set API key to read only key (replace with your own) 
setOMLConfig(apikey = "c1994bdb7ecb3c6f3c8f3b35f4b47f1f")

# download a task 
task = getOMLTask(task.id = 1) 
print(task)

# Task type defines a type of a task: regression, classification, clustering, etc. 
# Data set field shows to what data set the task in binded. A task always has to be connected to only one data set.
# Target feature field is optional for all kinds of classification and regression tasks 
# Estimation procedure defines the way that prevents overfitting

# in the next line RandomForest is used as a classifier and run with help of mlr library. You need to run an algorithm locally on your computer. Mlr will automatically download a package with a aspecified classifier.
library(mlr)
lrn = makeLearner("classif.randomForest")

# you need to upload a new flow with information about your algorithm and settings. If this algorithm already exists, you receive a message with ID of the existing flow
flow.id = uploadOMLFlow(lrn)

# the last step is to perform a run and upload results
run.mlr = runTaskMlr(task, lrn)
run.id = uploadOMLRun(run.mlr)

```

