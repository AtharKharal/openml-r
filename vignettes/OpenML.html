<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="The OpenML R Team" />

<meta name="date" content="2016-09-05" />

<title>OpenML</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>



<link href="data:text/css;charset=utf-8,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23header%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%20code%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" rel="stylesheet" type="text/css" />

</head>

<body>




<h1 class="title toc-ignore">OpenML</h1>
<h4 class="author"><em>The OpenML R Team</em></h4>
<h4 class="date"><em>2016-09-05</em></h4>



<div id="intro" class="section level2">
<h2>Introduction</h2>
<p>The R package OpenML is an interface to make interactions with the <a href="http://openml.org/">OpenML</a> server as comfortable as possible. For example, the users can download and upload files, run their implementations on specific tasks and get predictions in the correct form directly via R commands. In this tutorial, we will show the most important functions of this package and give examples on standard workflows.</p>
<p>For general information on what OpenML is, please have a look at the <a href="https://github.com/openml/OpenML/blob/master/README.md">README file</a> or visit the <a href="http://openml.org/">official OpenML website</a>.</p>
<p>After installation and before making practical use of the package, in most cases it is desirable to <a href="#config">setup a configuration file</a> to simplify further steps. Afterwards, there are different basic stages when using this package or OpenML, respectively:</p>
<ul>
<li><a href="#listing">Listing</a>
<ul>
<li>lists which data is available w.r.t. a specific object (<code>DataSets</code>, <code>Tasks</code>, <code>Flows</code>, <code>Runs</code>, <code>RunEvaluations</code>, <code>EvaluationMeasures</code>, and <code>TaskTypes</code>)</li>
<li>function names begin with <code>listOML</code></li>
<li>result is always a <code>data.frame</code></li>
</ul></li>
<li><a href="#download">Downloading</a>
<ul>
<li>downloads the specific objects (for <code>DataSets</code>, <code>Tasks</code>, <code>Runs</code>, <code>Predictions</code>, and <code>Flows</code>)</li>
<li>function names begin with <code>getOML</code></li>
<li>result is an object of a specific OpenML class</li>
</ul></li>
<li><a href="#running">Running models on tasks</a>
<ul>
<li>function <code>runTaskMlr</code></li>
<li>input: <code>OMLTask</code> and <a href="https://mlr-org.github.io/mlr-tutorial/release/html/learner/index.html"><code>Learner</code></a></li>
<li>output: <code>OMLMlrRun</code>, <code>OMLRun</code></li>
</ul></li>
<li><a href="#upload">Uploading</a>
<ul>
<li>function <code>uploadOMLRun</code></li>
</ul></li>
</ul>
<div id="installation-instructions" class="section level3">
<h3>Installation instructions</h3>
<p>At the moment there is no <a href="https://cran.r-project.org/">CRAN</a> release yet. To install the current development version use the <a href="https://cran.r-project.org/web/packages/devtools/index.html"><code>devtools</code></a> package and run</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">devtools::<span class="kw">install_github</span>(<span class="st">&quot;openml/openml-r&quot;</span>)</code></pre></div>
<p>in an R session. Using the OpenML package also requires a reader for the <a href="http://www.cs.waikato.ac.nz/ml/weka/arff.html">ARFF</a> file format. By default <a href="https://cran.r-project.org/web/packages/RWeka/index.html">RWeka</a> is used. However, the <a href="https://github.com/mlr-org/farff">farff</a> package can be used as an alternative. You can install the packages with the following calls.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">&quot;RWeka&quot;</span>)
devtools::<span class="kw">install_github</span>(<span class="st">&quot;mlr-org/farff&quot;</span>)</code></pre></div>
</div>
<div id="private-key-notification" class="section level3">
<h3>Private key notification</h3>
<p>All examples in this tutorial are given with a <span style="color:red"><strong>READ-ONLY API key</strong></span>.</p>
<p>With this key you can <strong>read</strong> all the information from the server but not <strong>write</strong> data sets, tasks, flows, and runs to the server. This key allows to emulate uploading to the server but doesn’t allow to really store data. If one wants to write data to a server, one has to <strong>get a personal API key</strong>. The process of how to obtain a key is shown in the <a href="#config">configuration section</a>.</p>
<p><span style="color:red"><strong>Important: Please do not write meaningless data to the server such as copies of already existing data sets, tasks, or runs (such as the ones from this tutorial)! One instance of the Iris data set should be enough for everyone. :D</strong></span></p>
</div>
<div id="basicexample" class="section level3">
<h3>Basic example</h3>
<p>In this paragraph you can find an example on how to download a task from the server, print some information about it to the console, and produce a run which is then uploaded to the server.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;OpenML&quot;</span>)
## temporarily set API key to read only key (replace it with your own key)
<span class="kw">setOMLConfig</span>(<span class="dt">apikey =</span> <span class="st">&quot;c1994bdb7ecb3c6f3c8f3b35f4b47f1f&quot;</span>)</code></pre></div>
<pre><code>## OpenML configuration:
##   server           : http://api_new.openml.org/v1
##   cachedir         : /tmp/Rtmp6Ygsyz/cache
##   verbosity        : 1
##   arff.reader      : RWeka
##   confirm.upload   : TRUE
##   apikey           : ***************************47f1f</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># download a task (whose ID is 1L)</span>
task =<span class="st"> </span><span class="kw">getOMLTask</span>(<span class="dt">task.id =</span> 1L)
task</code></pre></div>
<pre><code>## 
## OpenML Task 1 :: (Data ID = 1)
##   Task Type            : Supervised Classification
##   Data Set             : anneal :: (Version = 2, OpenML ID = 1)
##   Target Feature(s)    : class
##   Tags                 : basic, study_1, study_7, under100k, under1m
##   Estimation Procedure : Stratified crossvalidation (1 x 10 folds)
##   Evaluation Measure(s): predictive_accuracy</code></pre>
<p>The task contains information on the following:</p>
<ul>
<li>task type: defines the type of the task (regression, classification, clustering, etc.)</li>
<li>data set: which data set belongs to the given task (one task can always only be connected to a single data set)</li>
<li>target feature(s): optional field for all kinds of classification and regression tasks</li>
<li>tags: tags / labels, which might be helpful for further subselections</li>
<li>estimation procedure: which estimation procedure has been used when computing the performance</li>
</ul>
<p>In the next line, <code>randomForest</code> is used as a classifier and run with the help of the <a href="https://github.com/mlr-org/mlr"><code>mlr package</code></a>. Note that one needs to run the algorithm locally and that <code>mlr</code> will automatically download the package that is needed to run the specified classifier.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># define the classifier (usually called &quot;flow&quot; within OpenML)</span>
<span class="kw">library</span>(mlr)
lrn =<span class="st"> </span><span class="kw">makeLearner</span>(<span class="st">&quot;classif.randomForest&quot;</span>)

<span class="co"># upload the new flow (with information about the algorithm and settings);</span>
<span class="co"># if this algorithm already exists on the server, one will receive a message with the ID of the existing flow</span>
flow.id =<span class="st"> </span><span class="kw">uploadOMLFlow</span>(lrn)

<span class="co"># the last step is to perform a run and upload the results</span>
run.mlr =<span class="st"> </span><span class="kw">runTaskMlr</span>(task, lrn)
run.id =<span class="st"> </span><span class="kw">uploadOMLRun</span>(run.mlr)</code></pre></div>
<p>Following this very brief example, we will explain the single steps of the OpenML package in more detail in the next sections.</p>
</div>
</div>
<div id="config" class="section level2">
<h2>Configuration</h2>
<div id="personalapikey" class="section level3">
<h3>Generating your own personal API key</h3>
<p>The first step of working with OpenML should be to register yourself at the <a href="http://www.openml.org">OpenML website</a>. Most of the package’s functions require an API authentication key, which is only accessible with a (free) account. In order to receive your own API key</p>
<ul>
<li>go to the <a href="http://www.openml.org">OpenML website</a> and log into your account</li>
<li>then go to <a href="http://www.openml.org/u#!api" class="uri">http://www.openml.org/u#!api</a>.</li>
</ul>
<p>For <em>demonstration purposes</em>, we have created a <em>public read-only API key</em> (<code>&quot;c1994bdb7ecb3c6f3c8f3b35f4b47f1f&quot;</code>), which will be used in the following to make the examples executable.</p>
</div>
<div id="permanentconfig" class="section level3">
<h3>Permanently setting configuration</h3>
<p>After registering, you should <a href="#createconfig">create a configuration file</a>. The <code>config</code> file may contain the following information:</p>
<ul>
<li><code>server</code>:
<ul>
<li>default: <code>http://www.openml.org/api/v1</code></li>
</ul></li>
<li><code>cachedir</code>:
<ul>
<li>directory where the current content of the cache is stored</li>
<li>the default cache directory can be obtained by the R command <code>file.path(tempdir(), &quot;cache&quot;)</code>.</li>
</ul></li>
<li><code>verbosity</code>:
<ul>
<li><code>0</code>: normal output</li>
<li><code>1</code>: info output (default)</li>
<li><code>2</code>: debug output</li>
</ul></li>
<li><code>arff.reader</code>:
<ul>
<li><code>RWeka</code>: this is the standard Java parser used in Weka</li>
<li><code>farff</code>: the <a href="http://www.github.com/mlr-org/farff">farff package</a> provides a newer, faster parser without any Java requirements</li>
</ul></li>
<li><code>confirm.upload</code>:
<ul>
<li>default decision w.r.t. confirming uploads</li>
<li>per default (<code>FALSE</code>) one does not need to confirm the upload decision</li>
</ul></li>
<li><code>apikey</code>:
<ul>
<li>required to access the server</li>
</ul></li>
</ul>
<p>The configuration file is <em>not mandatory</em>. Yet, permanently setting your API key via a <code>config</code> file is recommended, as this key is required to access the OpenML server. However, it is noteworthy that basically everybody who has access to your computer can read the configuration file and thus see your API key. With your API key other users have full access to your account via the API, so please handle it with care!</p>
<p>The configuration file and some related things are also explained in the <a href="https://github.com/openml/OpenML/wiki/Client-API">OpenML Wiki</a>.</p>
</div>
<div id="createconfig" class="section level3">
<h3>Creating the configuration file in R</h3>
<p>To set up your OpenML configuration, you can either use <code>setOMLConfig</code> or <code>saveOMLConfig</code>. The difference between those two commands is that <code>setOMLConfig</code> sets your configuration temporarily for the current R session, whereas <code>saveOMLConfig</code> saves the configuration permanently. In order to create a permanent configuration file using default values and at the same time setting your personal API key, run</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(OpenML)
<span class="kw">saveOMLConfig</span>(<span class="dt">apikey =</span> <span class="st">&quot;c1994bdb7ecb3c6f3c8f3b35f4b47f1f&quot;</span>)</code></pre></div>
<p>where <code>&quot;c1994bdb7ecb3c6f3c8f3b35f4b47f1f&quot;</code> should be replaced with <a href="#personalapikey"><em>your personal API key</em></a>.</p>
</div>
<div id="manually-creating-the-configuration-file" class="section level3">
<h3>Manually creating the configuration file</h3>
<p>It is also possible to manually create a file <code>~/.openml/config</code> in your home directory – one can use the R command <code>path.expand(&quot;~/.openml/config&quot;)</code> to get the full path to the configuration file on the operating system. The <code>config</code> file consists of <code>key = value</code> pairs. An exemplary minimal <code>config</code> file might look as follows:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">apikey=c1994bdb7ecb3c6f3c8f3b35f4b47f1f</code></pre></div>
<p>Note that the values are not quoted.</p>
<p>If one manually modifies the <code>config</code> file, one needs to reload the modified <code>config</code> file to the current R session using <code>loadOMLConfig()</code>. You can query the current configuration using</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(OpenML)
<span class="kw">getOMLConfig</span>()</code></pre></div>
<pre><code>## OpenML configuration:
##   server           : http://api_new.openml.org/v1
##   cachedir         : /tmp/Rtmp6Ygsyz/cache
##   verbosity        : 1
##   arff.reader      : RWeka
##   confirm.upload   : TRUE
##   apikey           : ***************************47f1f</code></pre>
<p>As you can see, the configuration file lists the five items <code>server</code>, <code>cachedir</code>, <code>verbosity</code>, <code>arff.reader</code> and <code>apikey</code> that were listed in the <a href="#permanentconfig">beginning of this paragraph</a>.</p>
<p>Once the config file is set up, you are <strong>ready to go</strong>!</p>
</div>
</div>
<div id="listing" class="section level2">
<h2>Listing</h2>
<p>In this stage, we want to list basic information about the various OpenML objects:</p>
<ul>
<li>data sets</li>
<li>tasks</li>
<li>flows</li>
<li>runs</li>
<li>run results</li>
<li>evaluation measures</li>
<li>task types</li>
</ul>
<p>See the <a href="http://openml.org/guide">OpenML introduction</a> for a detailed overview on (and explanations of) the different objects.</p>
<p>For each of these objects, we have a function to query the information, beginning with <code>listOML</code>. All of these functions return a <code>data.frame</code>, even in case the result consists of a single column or has zero observations (i.e., rows).</p>
<p>One should be aware of the fact that the <code>listOML*</code> functions only list information on the corresponding objects – they do not download the respective objects. Information on actually downloading specific objects is covered in the <a href="#download">next section</a>.</p>
<p>First, load the package:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;OpenML&quot;</span>)
<span class="kw">setOMLConfig</span>(<span class="dt">verbosity =</span> <span class="dv">0</span>)  <span class="co"># switch off status output</span></code></pre></div>
<div id="listdata" class="section level3">
<h3>List data sets</h3>
<p>To browse the OpenML data base for appropriate data sets, you can use <code>listOMLDataSets()</code> in order to get basic data characteristics (number of features, instances, classes, missing values, etc.) for each data set. By default, <code>listOMLDataSets()</code> returns only data sets that have an active status on OpenML:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">datasets =<span class="st"> </span><span class="kw">listOMLDataSets</span>()  <span class="co"># returns active data sets</span></code></pre></div>
<p>The resulting <code>data.frame</code> contains the following information for each of the listed data sets:</p>
<ul>
<li>the data set ID <code>did</code></li>
<li>the <code>status</code> (<code>&quot;active&quot;</code>, <code>&quot;in_preparation&quot;</code> or <code>&quot;deactivated&quot;</code>) of the data set</li>
<li>the <code>name</code> of the data set</li>
<li>the size of the majority / biggest class (<code>MajorityClassSize</code>)</li>
<li>etc.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(datasets)</code></pre></div>
<pre><code>## 'data.frame':    19479 obs. of  14 variables:
##  $ did                               : int  1 2 3 4 5 6 7 8 9 10 ...
##  $ status                            : Factor w/ 1 level &quot;active&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##  $ format                            : chr  &quot;ARFF&quot; &quot;ARFF&quot; &quot;ARFF&quot; &quot;ARFF&quot; ...
##  $ name                              : chr  &quot;anneal&quot; &quot;anneal&quot; &quot;kr-vs-kp&quot; &quot;labor&quot; ...
##  $ MajorityClassSize                 : int  684 684 1669 37 245 813 57 -1 67 81 ...
##  $ MaxNominalAttDistinctValues       : int  10 9 3 3 2 -1 6 -1 22 8 ...
##  $ MinorityClassSize                 : int  0 0 1527 20 0 734 1 -1 0 2 ...
##  $ NumberOfClasses                   : int  6 6 2 2 16 26 24 -1 7 4 ...
##  $ NumberOfFeatures                  : int  39 39 37 17 280 17 70 7 26 19 ...
##  $ NumberOfInstances                 : int  898 898 3196 57 452 20000 226 345 205 148 ...
##  $ NumberOfInstancesWithMissingValues: int  0 898 0 56 384 0 222 0 46 0 ...
##  $ NumberOfMissingValues             : int  0 22175 0 326 408 0 317 0 59 0 ...
##  $ NumberOfNumericFeatures           : int  6 6 0 8 206 16 0 6 15 3 ...
##  $ NumberOfSymbolicFeatures          : int  33 33 37 9 74 1 70 1 11 16 ...</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(datasets[, <span class="dv">1</span>:<span class="dv">5</span>])</code></pre></div>
<pre><code>##   did status format       name MajorityClassSize
## 1   1 active   ARFF     anneal               684
## 2   2 active   ARFF     anneal               684
## 3   3 active   ARFF   kr-vs-kp              1669
## 4   4 active   ARFF      labor                37
## 5   5 active   ARFF arrhythmia               245
## 6   6 active   ARFF     letter               813</code></pre>
<p>If one needs data sets that are either <code>&quot;in_preparation&quot;</code> or <code>&quot;deactivated&quot;</code>, one can change the <code>status</code> parameter accordingly:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">inactive.data =<span class="st"> </span><span class="kw">listOMLDataSets</span>(<span class="dt">status =</span> <span class="st">&quot;deactivated&quot;</span>)
<span class="kw">head</span>(inactive.data[, <span class="dv">1</span>:<span class="dv">5</span>])</code></pre></div>
<pre><code>## [1] did               status            format            name             
## [5] MajorityClassSize
## &lt;0 rows&gt; (or 0-length row.names)</code></pre>
<p>To find a specific data set, you can now query the resulting <code>datasets</code> object. Suppose we want to find the <code>iris</code> data set.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">subset</span>(datasets, name ==<span class="st"> &quot;iris&quot;</span>)</code></pre></div>
<pre><code>##     did status format name MajorityClassSize MaxNominalAttDistinctValues
## 55   61 active   ARFF iris                50                          -1
## 820 969 active   ARFF iris               100                          -1
##     MinorityClassSize NumberOfClasses NumberOfFeatures NumberOfInstances
## 55                 50               3                5               150
## 820                50               2                5               150
##     NumberOfInstancesWithMissingValues NumberOfMissingValues
## 55                                   0                     0
## 820                                  0                     0
##     NumberOfNumericFeatures NumberOfSymbolicFeatures
## 55                        4                        1
## 820                       4                        1</code></pre>
<p>As you can see, there are two data sets called <code>iris</code>. We want to use the <em>original</em> data set with three classes, which is stored under the data set ID (<code>did</code>) 61. You can also have a closer look at the data set on the corresponding OpenML web page (<a href="http://openml.org/d/61" class="uri">http://openml.org/d/61</a>).</p>
</div>
<div id="list-tasks" class="section level3">
<h3>List tasks</h3>
<p>Each OpenML task is a bundle that encapsulates information on various objects:</p>
<ul>
<li>a specific type, e.g., <code>&quot;Supervised Classification&quot;</code> or <code>&quot;Supervised Regression&quot;</code></li>
<li>a data set</li>
<li>a target feature (which might differ from the data set’s default target)</li>
<li>an estimation/resampling procedure, e.g., a 10-fold cross-validation</li>
<li>data splits for this estimation procedure</li>
<li>one or more (performance) evaluation measures, e.g., <code>&quot;predictive accuracy&quot;</code> for a classification task</li>
</ul>
<p>Listing the tasks can be done via</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tasks =<span class="st"> </span><span class="kw">listOMLTasks</span>()</code></pre></div>
<p>The resulting <code>data.frame</code> contains for each of the listed tasks information on:</p>
<ul>
<li>the task ID <code>task.id</code></li>
<li>the type of the task <code>task.type</code></li>
<li>information on the data set (analogously to the <a href="#listdata">list data set area</a>), such as the number of features, classes and instances</li>
<li>the name of the target variable <code>target.feature</code></li>
<li><code>tags</code> which can be used for labelling the task</li>
<li>the <code>estimation.procedure</code> (aka resampling strategy)</li>
<li>the <code>evaluation.measures</code> used for measuring the performance of the <a href="#flows">learner / flow</a> on the task</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(tasks)</code></pre></div>
<pre><code>## 'data.frame':    50338 obs. of  20 variables:
##  $ task.id                           : int  1 2 3 4 5 6 7 8 9 10 ...
##  $ task.type                         : chr  &quot;Supervised Classification&quot; &quot;Supervised Classification&quot; &quot;Supervised Classification&quot; &quot;Supervised Classification&quot; ...
##  $ did                               : int  1 2 3 4 5 6 7 8 9 10 ...
##  $ status                            : Factor w/ 1 level &quot;active&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##  $ format                            : chr  &quot;ARFF&quot; &quot;ARFF&quot; &quot;ARFF&quot; &quot;ARFF&quot; ...
##  $ name                              : chr  &quot;anneal&quot; &quot;anneal&quot; &quot;kr-vs-kp&quot; &quot;labor&quot; ...
##  $ target.feature                    : chr  &quot;class&quot; &quot;class&quot; &quot;class&quot; &quot;class&quot; ...
##  $ tags                              : chr  &quot;basic, study_1, study_7, under100k, under1m&quot; &quot;at2, basic, study_1, study_14, under100k&quot; &quot;at2, basic, mythbusting, mythbusting_1, study_1, study_14, study_15, study_7, under100k, under1m&quot; &quot;basic, mythbusting, mythbusting_1, study_1, study_15, under100k, under1m&quot; ...
##  $ estimation.procedure              : Factor w/ 13 levels &quot;10-fold Crossvalidation&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
##  $ evaluation.measures               : chr  &quot;predictive_accuracy&quot; &quot;predictive_accuracy&quot; &quot;predictive_accuracy&quot; &quot;predictive_accuracy&quot; ...
##  $ MajorityClassSize                 : int  684 684 1669 37 245 813 57 -1 67 81 ...
##  $ MaxNominalAttDistinctValues       : int  10 9 3 3 2 -1 6 -1 22 8 ...
##  $ MinorityClassSize                 : int  0 0 1527 20 0 734 1 -1 0 2 ...
##  $ NumberOfClasses                   : int  6 6 2 2 16 26 24 -1 7 4 ...
##  $ NumberOfFeatures                  : int  39 39 37 17 280 17 70 7 26 19 ...
##  $ NumberOfInstances                 : int  898 898 3196 57 452 20000 226 345 205 148 ...
##  $ NumberOfInstancesWithMissingValues: int  0 898 0 56 384 0 222 0 46 0 ...
##  $ NumberOfMissingValues             : int  0 22175 0 326 408 0 317 0 59 0 ...
##  $ NumberOfNumericFeatures           : int  6 6 0 8 206 16 0 6 15 3 ...
##  $ NumberOfSymbolicFeatures          : int  33 33 37 9 74 1 70 1 11 16 ...</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(tasks[, <span class="dv">1</span>:<span class="dv">5</span>])</code></pre></div>
<pre><code>##   task.id                 task.type did status format
## 1       1 Supervised Classification   1 active   ARFF
## 2       2 Supervised Classification   2 active   ARFF
## 3       3 Supervised Classification   3 active   ARFF
## 4       4 Supervised Classification   4 active   ARFF
## 5       5 Supervised Classification   5 active   ARFF
## 6       6 Supervised Classification   6 active   ARFF</code></pre>
<p>For some data sets, there may be more than one task available on the OpenML server. For example, one can look for <code>&quot;Supervised Classification&quot;</code> tasks that are available for a specific data via</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(<span class="kw">subset</span>(tasks, task.type ==<span class="st"> &quot;Supervised Classification&quot;</span> &amp;<span class="st"> </span>did ==<span class="st"> </span>61L)[, <span class="dv">1</span>:<span class="dv">5</span>])</code></pre></div>
<pre><code>##      task.id                 task.type did status format
## 53        59 Supervised Classification  61 active   ARFF
## 271      289 Supervised Classification  61 active   ARFF
## 442     1823 Supervised Classification  61 active   ARFF
## 551     1939 Supervised Classification  61 active   ARFF
## 598     1992 Supervised Classification  61 active   ARFF
## 4437    7306 Supervised Classification  61 active   ARFF</code></pre>
</div>
<div id="flows" class="section level3">
<h3>List flows</h3>
<p>A flow is the definition and implementation of a specific algorithm workflow or script, i.e., a flow is essentially the code / implementation of the algorithm.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">flows =<span class="st"> </span><span class="kw">listOMLFlows</span>()
<span class="kw">str</span>(flows)</code></pre></div>
<pre><code>## 'data.frame':    2918 obs. of  6 variables:
##  $ flow.id         : int  1 2 3 4 5 6 7 8 9 10 ...
##  $ full.name       : chr  &quot;openml.evaluation.EuclideanDistance(1.0)&quot; &quot;openml.evaluation.PolynomialKernel(1.0)&quot; &quot;openml.evaluation.RBFKernel(1.0)&quot; &quot;openml.evaluation.area_under_roc_curve(1.0)&quot; ...
##  $ name            : chr  &quot;openml.evaluation.EuclideanDistance&quot; &quot;openml.evaluation.PolynomialKernel&quot; &quot;openml.evaluation.RBFKernel&quot; &quot;openml.evaluation.area_under_roc_curve&quot; ...
##  $ version         : int  1 1 1 1 1 1 1 1 1 1 ...
##  $ external.version: chr  &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot; ...
##  $ uploader        : int  1 1 1 1 1 1 1 1 1 1 ...</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">flows[<span class="dv">56</span>:<span class="dv">63</span>, <span class="dv">1</span>:<span class="dv">4</span>]</code></pre></div>
<pre><code>##    flow.id             full.name               name version
## 56      56         weka.ZeroR(1)         weka.ZeroR       1
## 57      57          weka.OneR(1)          weka.OneR       1
## 58      58    weka.NaiveBayes(1)    weka.NaiveBayes       1
## 59      59          weka.JRip(1)          weka.JRip       1
## 60      60           weka.J48(1)           weka.J48       1
## 61      61       weka.REPTree(1)       weka.REPTree       1
## 62      62 weka.DecisionStump(1) weka.DecisionStump       1
## 63      63 weka.HoeffdingTree(1) weka.HoeffdingTree       1</code></pre>
</div>
<div id="list-runs-and-run-results" class="section level3">
<h3>List runs and run results</h3>
<p>A run is an experiment, which is executed on a given combination of task, flow and setup (i.e., the explicit parameter configuration of a flow). The corresponding results are stored as a run result. Both objects, i.e., runs and run results, can be listed via <code>listOMLRuns</code> or <code>listOMLRunEvaluations</code>, respectively. As each of those objects is defined with a task, setup and flow, you can extract runs and run results with specific combinations of <code>task.id</code>, <code>setup.id</code> and/or <code>flow.id</code>. For instance, listing all runs for <a href="http://www.openml.org/t/59">task 59</a> (supervised classification on iris) can be done with</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">runs =<span class="st"> </span><span class="kw">listOMLRuns</span>(<span class="dt">task.id =</span> 59L)  <span class="co"># must be specified with the task, setup and/or implementation ID</span>
<span class="kw">head</span>(runs)</code></pre></div>
<pre><code>##   run.id task.id setup.id flow.id uploader error.message
## 1     81      59       12      67        1          &lt;NA&gt;
## 2    161      59       13      70        1          &lt;NA&gt;
## 3    234      59        1      56        1          &lt;NA&gt;
## 4    447      59        6      61        1          &lt;NA&gt;
## 5    473      59       18      77        1          &lt;NA&gt;
## 6    491      59        7      62        1          &lt;NA&gt;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">run.results =<span class="st"> </span><span class="kw">listOMLRunEvaluations</span>(<span class="dt">task.id =</span> 59L)  <span class="co"># one of the IDs (here: task.id) must be supplied</span>
<span class="kw">str</span>(run.results)</code></pre></div>
<pre><code>## 'data.frame':    2403 obs. of  33 variables:
##  $ run.id                       : int  81 161 234 447 473 491 550 6088 6157 6158 ...
##  $ task.id                      : int  59 59 59 59 59 59 59 59 59 59 ...
##  $ setup.id                     : int  12 13 1 6 18 7 16 11 12 3 ...
##  $ flow.id                      : int  67 70 56 61 77 62 75 66 67 58 ...
##  $ area.under.roc.curve         : num  0.983 0.977 0.5 0.967 0.978 ...
##  $ area.under.roc.curve.array   : Factor w/ 488 levels &quot;[0.5,0.5,0.5]&quot;,..: 281 192 1 137 189 85 267 134 281 407 ...
##  $ average.cost                 : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ confusion.matrix             : Factor w/ 117 levels &quot;[[0,15,35],[0,15,35],[0,15,35]]&quot;,..: 77 91 116 59 76 100 72 75 77 84 ...
##  $ f.measure                    : num  0.94 0.96 0.167 0.927 0.947 ...
##  $ f.measure.array              : Factor w/ 117 levels &quot;[0,0.315789,0.451613]&quot;,..: 91 107 6 82 96 69 109 101 91 102 ...
##  $ kappa                        : num  0.91 0.94 0 0.89 0.92 0.5 0.95 0.93 0.91 0.93 ...
##  $ kb.relative.information.score: num  1.39e+02 9.09e+01 -6.80e-05 1.31e+02 1.38e+02 ...
##  $ mean.absolute.error          : num  0.0384 0.2311 0.4444 0.0671 0.0392 ...
##  $ mean.prior.absolute.error    : num  0.444 0.444 0.444 0.444 0.444 ...
##  $ number.of.instances          : int  150 150 150 150 150 150 150 150 150 150 ...
##  $ number.of.instances.array    : Factor w/ 1 level &quot;[50,50,50]&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##  $ precision                    : num  0.94 0.96 0.111 0.927 0.947 ...
##  $ precision.array              : Factor w/ 113 levels &quot;[0,0.333333,0.333333]&quot;,..: 63 78 3 62 73 31 108 82 63 76 ...
##  $ predictive.accuracy          : num  0.94 0.96 0.333 0.927 0.947 ...
##  $ prior.entropy                : num  1.58 1.58 1.58 1.58 1.58 ...
##  $ recall                       : num  0.94 0.96 0.333 0.927 0.947 ...
##  $ recall.array                 : Factor w/ 107 levels &quot;[0,0.3,0.7]&quot;,..: 82 97 41 63 83 106 86 84 82 89 ...
##  $ relative.absolute.error      : num  0.0863 0.52 1 0.151 0.0881 ...
##  $ root.mean.prior.squared.error: num  0.471 0.471 0.471 0.471 0.471 ...
##  $ root.mean.squared.error      : num  0.16 0.288 0.471 0.211 0.178 ...
##  $ root.relative.squared.error  : num  0.339 0.611 1 0.447 0.377 ...
##  $ total.cost                   : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ os.information               : Factor w/ 23 levels &quot;[Apple Inc., 1.6.0_65, x86_64, Mac OS X, 10.10.3]&quot;,..: NA NA NA NA NA NA NA NA NA NA ...
##  $ scimark.benchmark            : num  NA NA NA NA NA NA NA NA NA NA ...
##  $ scimark.benchmark.array      : Factor w/ 204 levels &quot;[1062.2659455227413, 1422.1069969560601, 811.9030863840538, 1690.1611873706404, 3825.802659788186]&quot;,..: NA NA NA NA NA NA NA NA NA NA ...
##  $ usercpu.time.millis          : num  NA NA NA NA NA NA NA NA NA NA ...
##  $ usercpu.time.millis.testing  : num  NA NA NA NA NA NA NA NA NA NA ...
##  $ usercpu.time.millis.training : num  NA NA NA NA NA NA NA NA NA NA ...</code></pre>
</div>
<div id="list-evaluation-measures-and-task-types" class="section level3">
<h3>List evaluation measures and task types</h3>
<p>Analogously to the previous listings, one can list further objects simply by calling the respective functions.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">listOMLDataSetQualities</span>()
<span class="kw">listOMLEstimationProcedures</span>()
<span class="kw">listOMLEvaluationMeasures</span>()
<span class="kw">listOMLTaskTypes</span>()</code></pre></div>
</div>
</div>
<div id="download" class="section level2">
<h2>Downloading</h2>
<p>Users can download data sets, tasks, flows and runs from the OpenML server. The package provides special representations for each object, which will be discussed here.</p>
<div id="download-an-openml-data-set" class="section level3">
<h3>Download an OpenML data set</h3>
<p>To directly download a data set, e.g., when you want to run a few preliminary experiments, one can use the function <code>getOMLDataSet</code>. The function accepts a data set ID as input and returns the corresponding <code>OMLDataSet</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">iris.data =<span class="st"> </span><span class="kw">getOMLDataSet</span>(<span class="dt">did =</span> 61L)  <span class="co"># the iris data set has the data set ID 61</span></code></pre></div>
</div>
<div id="download-an-openml-task" class="section level3">
<h3>Download an OpenML task</h3>
<p>The following call returns an OpenML task object for a supervised classification task on the iris data:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">task =<span class="st"> </span><span class="kw">getOMLTask</span>(<span class="dt">task.id =</span> 59L)
task</code></pre></div>
<pre><code>## 
## OpenML Task 59 :: (Data ID = 61)
##   Task Type            : Supervised Classification
##   Data Set             : iris :: (Version = 1, OpenML ID = 61)
##   Target Feature(s)    : class
##   Tags                 : basic, study_1, study_7, under100k, under1m
##   Estimation Procedure : Stratified crossvalidation (1 x 10 folds)
##   Evaluation Measure(s): predictive_accuracy</code></pre>
<p>The corresponding <code>&quot;OMLDataSet&quot;</code> object can be accessed by</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">task$input$data.set</code></pre></div>
<pre><code>## 
## Data Set &quot;iris&quot; :: (Version = 1, OpenML ID = 61)
##   Collection Date         : 1936
##   Creator(s)              : R.A. Fisher
##   Default Target Attribute: class</code></pre>
<p>and the class of the task can be shown with the next line</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">task$task.type</code></pre></div>
<pre><code>## [1] &quot;Supervised Classification&quot;</code></pre>
<p>Also, it is possible to extract the data set itself via</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">iris.data =<span class="st"> </span>task$input$data.set$data
<span class="kw">head</span>(iris.data)</code></pre></div>
<pre><code>##   sepallength sepalwidth petallength petalwidth       class
## 0         5.1        3.5         1.4        0.2 Iris-setosa
## 1         4.9        3.0         1.4        0.2 Iris-setosa
## 2         4.7        3.2         1.3        0.2 Iris-setosa
## 3         4.6        3.1         1.5        0.2 Iris-setosa
## 4         5.0        3.6         1.4        0.2 Iris-setosa
## 5         5.4        3.9         1.7        0.4 Iris-setosa</code></pre>
</div>
<div id="download-an-openml-flow" class="section level3">
<h3>Download an OpenML flow</h3>
<p>Aside from tasks and data sets, one can also download flows – by calling <code>getOMLFlow</code> with the specific <code>flow.id</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">flow =<span class="st"> </span><span class="kw">getOMLFlow</span>(<span class="dt">flow.id =</span> 2700L)
flow</code></pre></div>
<pre><code>## 
## Flow &quot;classif.randomForest&quot; :: (Version = 47, Flow ID = 2700)
##  External Version         : R_3.1.2-734b029d
##  Dependencies             : mlr_2.9, randomForest_4.6.12
##  Number of Flow Parameters: 16
##  Number of Flow Components: 0</code></pre>
</div>
<div id="download-an-openml-run" class="section level3">
<h3>Download an OpenML run</h3>
<p>To download the results of one run, including all server and user computed metrics, you have to define the corresponding run ID. For all runs that are actually related to the task, the corresponding ID can be extracted from the <code>runs</code> object, which was created in the previous section. Here we use a run of task 59, which has the <code>run.id</code> 525534. Single OpenML runs can be downloaded with the function <code>getOMLRun</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">task.list =<span class="st"> </span><span class="kw">listOMLRuns</span>(<span class="dt">task.id =</span> 59L)
task.list[<span class="dv">281</span>:<span class="dv">285</span>, ]</code></pre></div>
<pre><code>##     run.id task.id setup.id flow.id uploader error.message
## 281   6512      59      126      72       17          &lt;NA&gt;
## 282   6513      59      127      72       17          &lt;NA&gt;
## 283   6514      59      128      72       17          &lt;NA&gt;
## 284   6516      59      129      72       17          &lt;NA&gt;
## 285   6517      59      130      72       17          &lt;NA&gt;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">run =<span class="st"> </span><span class="kw">getOMLRun</span>(<span class="dt">run.id =</span> 524027L)</code></pre></div>
<p>Each <code>OMLRun</code> object is a list object, which stores additional information on the run. For instance, the flow of the previously downloaded run has some non-default settings for hyperparameters, which can be obtained by:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">run$parameter.setting  <span class="co"># retrieve the list of parameter settings</span></code></pre></div>
<pre><code>## $seed
##  seed = 1
## 
## $kind
##  kind = Mersenne-Twister
## 
## $normal.kind
##  normal.kind = Inversion</code></pre>
<p>If the underlying flow has hyperparameters that are different from the default values of the corresponding learner, they are also shown, otherwise the default hyperparameters are used (but not explicitly listed).</p>
<p>All the data that served as input for the run, including data set IDs and the URL to the data, is stored in <code>input.data</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">run$input.data</code></pre></div>
<pre><code>## 
## ** Data Sets **
##   did name                                                         url
## 1  61 iris http://www.openml.org/data/download/61/dataset_61_iris.arff
## 
## ** Files **
## data frame with 0 columns and 0 rows
## 
## ** Evaluations **
## data frame with 0 columns and 0 rows</code></pre>
<p>Predictions made by an uploaded run are stored within the <code>predictions</code> element and can be retrieved via</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(run$predictions, <span class="dv">10</span>)</code></pre></div>
<pre><code>##    repeat fold row_id      prediction           truth
## 1       0    0     43     Iris-setosa     Iris-setosa
## 2       0    0     14     Iris-setosa     Iris-setosa
## 3       0    0     37     Iris-setosa     Iris-setosa
## 4       0    0     23     Iris-setosa     Iris-setosa
## 5       0    0     10     Iris-setosa     Iris-setosa
## 6       0    0     99 Iris-versicolor Iris-versicolor
## 7       0    0     87 Iris-versicolor Iris-versicolor
## 8       0    0     97 Iris-versicolor Iris-versicolor
## 9       0    0     62 Iris-versicolor Iris-versicolor
## 10      0    0     92 Iris-versicolor Iris-versicolor
##    confidence.Iris-setosa confidence.Iris-versicolor
## 1                       1                          0
## 2                       1                          0
## 3                       1                          0
## 4                       1                          0
## 5                       1                          0
## 6                       0                          1
## 7                       0                          1
## 8                       0                          1
## 9                       0                          1
## 10                      0                          1
##    confidence.Iris-virginica
## 1                          0
## 2                          0
## 3                          0
## 4                          0
## 5                          0
## 6                          0
## 7                          0
## 8                          0
## 9                          0
## 10                         0</code></pre>
<p>The output above shows predicitons, ground truth information about classes and task-specific information, e.g., about the confidence of a classifier (for every observation) or in which fold a data point has been placed.</p>
</div>
</div>
<div id="running" class="section level2">
<h2>Running</h2>
<p>The modularized structure of OpenML allows to apply the implementation of an algorithm to a specific task and there exist multiple possibilities to do this.</p>
<div id="run-a-task-with-a-specified-mlr-learner" class="section level3">
<h3>Run a task with a specified mlr learner</h3>
<p>If one is working with <a href="https://github.com/mlr-org/mlr"><strong>mlr</strong></a>, one can specify a <code>RLearner</code> object and use the function <code>runTaskMlr</code> to create the desired <code>&quot;OMLMlrRun&quot;</code> object. The <code>task</code> is created the same way as in the previous sections:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">task =<span class="st"> </span><span class="kw">getOMLTask</span>(<span class="dt">task.id =</span> 59L)

<span class="kw">library</span>(mlr)
lrn =<span class="st"> </span><span class="kw">makeLearner</span>(<span class="st">&quot;classif.rpart&quot;</span>)
run.mlr =<span class="st"> </span><span class="kw">runTaskMlr</span>(task, lrn)
run.mlr</code></pre></div>
<pre><code>## $run
## 
## OpenML Run NA :: (Task ID = 59, Flow ID = NA)
## 
## $bmr
##        task.id    learner.id acc.test.mean timetrain.test.sum
## 1 iris.task.59 classif.rpart          0.94              0.938
##   timepredict.test.sum
## 1                0.053
## 
## $flow
## 
## Flow &quot;mlr.classif.rpart&quot; :: (Version = NA, Flow ID = NA)
##  External Version         : R_3.3.1-v2.e6a066f2
##  Dependencies             : R_3.3.1, OpenML_1.0, mlr_2.9, rpart_4.1.10
##  Number of Flow Parameters: 13
##  Number of Flow Components: 0
## 
## attr(,&quot;class&quot;)
## [1] &quot;OMLMlrRun&quot;</code></pre>
<p>Note that locally created runs don’t have a run ID or flow ID yet. These are assigned by the OpenML server after uploading the run.</p>
</div>
<div id="run-a-task-without-using-mlr" class="section level3">
<h3>Run a task without using mlr</h3>
<p>If you are not using <code>mlr</code>, you will have to invest some more time and effort to get things done. So, unless you have good reasons to do otherwise, we strongly encourage to use <code>mlr</code>.</p>
<p>In the case you want to work without <code>mlr</code>, you have to create some objects on your own. You will find detailed descriptions of the constructors in the manual.</p>
</div>
</div>
<div id="upload" class="section level2">
<h2>Uploading</h2>
<p>The following section gives an overview on how one can contribute building blocks (i.e. data sets, flows and runs) to the OpenML server.</p>
<div id="upload-a-data-set" class="section level3">
<h3>Upload a data set</h3>
<p>A data set contains information that can be stored on OpenML and used by OpenML tasks and runs. In this example, a very simple data set is taken from R, converted to an OpenML data set and afterwards uploaded to the server. The corresponding workflow of uploading a data set consists of the following three steps:</p>
<ol style="list-style-type: decimal">
<li><code>makeOMLDataSetDescription</code>: create the description object of an OpenML data set</li>
<li><code>makeOMLDataSet</code>: convert the data set into an OpenML data set</li>
<li><code>uploadOMLDataSet</code>: upload the data set to the server</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## This is simple data set, which is generally already available in R.
## Please DO NOT upload it to the server!
<span class="kw">data</span>(<span class="st">&quot;airquality&quot;</span>)
dsc =<span class="st"> &quot;Daily air quality measurements in New York, May to September 1973.</span>
<span class="st">  This data is taken from R.&quot;</span>
cit =<span class="st"> &quot;Chambers, J. M., Cleveland, W. S., Kleiner, B. and Tukey, P. A. (1983)</span>
<span class="st">  Graphical Methods for Data Analysis. Belmont, CA: Wadsworth.&quot;</span>

## (1) Create the description object
desc =<span class="st"> </span><span class="kw">makeOMLDataSetDescription</span>(<span class="dt">name =</span> <span class="st">&quot;airquality&quot;</span>,
  <span class="dt">description =</span> dsc,
  <span class="dt">creator =</span> <span class="st">&quot;New York State Department of Conservation (ozone data) and the National</span>
<span class="st">    Weather Service (meteorological data)&quot;</span>,
  <span class="dt">collection.date =</span> <span class="st">&quot;May 1, 1973 to September 30, 1973&quot;</span>,
  <span class="dt">language =</span> <span class="st">&quot;English&quot;</span>,
  <span class="dt">licence =</span> <span class="st">&quot;GPL-2&quot;</span>,
  <span class="dt">url =</span> <span class="st">&quot;https://stat.ethz.ch/R-manual/R-devel/library/datasets/html/00Index.html&quot;</span>,
  <span class="dt">default.target.attribute =</span> <span class="st">&quot;Ozone&quot;</span>,
  <span class="dt">citation =</span> cit,
  <span class="dt">tags =</span> <span class="st">&quot;R&quot;</span>)

## (2) Create the OpenML data set
air.data =<span class="st"> </span><span class="kw">makeOMLDataSet</span>(<span class="dt">desc =</span> desc,
  <span class="dt">data =</span> airquality,
  <span class="dt">colnames.old =</span> <span class="kw">colnames</span>(airquality),
  <span class="dt">colnames.new =</span> <span class="kw">colnames</span>(airquality),
  <span class="dt">target.features =</span> <span class="st">&quot;Ozone&quot;</span>)

## (3) Upload the OpenML data set to the server
dataset.id =<span class="st"> </span><span class="kw">uploadOMLDataSet</span>(air.data)
dataset.id</code></pre></div>
</div>
<div id="upload-a-flow-using-mlr" class="section level3">
<h3>Upload a flow using mlr</h3>
<p>A <a href="#flows">flow</a> is an implementation of a single algorithm or a script. To create a flow, we can use the <code>mlr</code> package, which already contains numerous implemented algorithms. Each <a href="http://mlr-org.github.io/mlr-tutorial/release/html/integrated_learners/"><code>mlr</code> learner</a> can be considered as an implementation of a flow, which then again can be uploaded to the server with the function <code>uploadOMLFlow</code>. If the flow has already been uploaded to the server (either by you or someone else), one receives a message that the flow already exists and the <code>flow.id</code> is returned from the function. Otherwise, the flow will be uploaded, receive its own <code>flow.id</code> and return that ID.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(mlr)
lrn =<span class="st"> </span><span class="kw">makeLearner</span>(<span class="st">&quot;classif.randomForest&quot;</span>)
flow.id =<span class="st"> </span><span class="kw">uploadOMLFlow</span>(lrn)
flow.id</code></pre></div>
</div>
<div id="upload-a-flow-without-using-mlr" class="section level3">
<h3>Upload a flow without using mlr</h3>
<p>As mentioned before, it is possible to avoid using <code>mlr</code>, but it requires much more effort from your side.</p>
</div>
<div id="upload-an-openml-run-to-the-server" class="section level3">
<h3>Upload an OpenML run to the server</h3>
<p>In addition to uploading data sets or flows, one can also upload runs (which a priori have to created, e.g., using <code>mlr</code>):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## choose 2 flows (i.e., mlr-learners)
learners =<span class="st"> </span><span class="kw">list</span>(
  <span class="kw">makeLearner</span>(<span class="st">&quot;classif.kknn&quot;</span>),
  <span class="kw">makeLearner</span>(<span class="st">&quot;classif.randomForest&quot;</span>)
)

## pick 3 random tasks
task.ids =<span class="st"> </span><span class="kw">c</span>(<span class="dv">57</span>, <span class="dv">59</span>, <span class="dv">2382</span>)

for (lrn in learners) {
  for (id in task.ids) {
    task =<span class="st"> </span><span class="kw">getOMLTask</span>(id)
    res =<span class="st"> </span><span class="kw">runTaskMlr</span>(task, lrn)$run
    run.id =<span class="st"> </span><span class="kw">uploadOMLRun</span>(res)  <span class="co"># upload results</span>
  }
}</code></pre></div>
<p>Before your run will be uploaded to the server, <code>uploadOMLRun</code> checks whether the flow that created this run is already available on the server. If the flow does not exist on the server, it will (automatically) be uploaded as well.</p>
</div>
</div>
<div id="feedback" class="section level2">
<h2>Feedback</h2>
<p>Now, you should have gotten an idea on how to use our package. However, as there is always room for improvement, we are more than happy to receive your feedback. So, in case</p>
<ul>
<li>there is anything not well documented</li>
<li>you encountered a bug</li>
<li>are missing a certain functionality</li>
</ul>
<p>please open an issue in the <a href="https://github.com/openml/openml-r/issues">issue tracker of our GitHub repository</a>.</p>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
